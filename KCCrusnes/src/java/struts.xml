<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <constant name="struts.multipart.saveDir" value="web/view/resources/img/" />
    <constant name="struts.multipart.maxSize" value="20000000" />
    <!-- Configuration for the default package. -->
    <package name="default" namespace="/" extends="struts-default">
        <default-action-ref name="index" />
        <action name="index">
            <result type="redirectAction">
                <param name="actionName">Index</param>
                <param name="namespace">/view</param>
            </result>
        </action>
    </package>
    <package name="view" namespace="/view" extends="struts-default">
        <result-types>
            <result-type name="json" class="org.apache.struts2.json.JSONResult"/>
        </result-types>
        <action name="Index" class="action.Index">
            <result name="success">/view/index.jsp</result>
        </action>
        <action name="HistoireClub" class="action.HistoireClub">
            <result name="success">/view/histoire.jsp</result>
        </action>
        <action name="Comite" class="action.Comite">
            <result name="success">/view/comite.jsp</result>
        </action>
        <action name="Entraineurs" class="action.Entraineurs">
            <result name="success">/view/entraineurs.jsp</result>
        </action>
        <action name="DojoClub" class="action.DojoClub">
            <result name="success">/view/dojo.jsp</result>
        </action>
        <action name="Horaires" class="action.Horaires">
            <result name="success">/view/horaires.jsp</result>
        </action>
        <action name="DerniersResultats" class="action.DerniersResultats">
            <result name="success">/view/derniersResultats.jsp</result>
        </action>
        <action name="VoirCalendrier" class="action.VoirCalendrier">
            <result name="success">/view/calendrier.jsp</result>
        </action>
        <action name="Photos" class="action.Photos">
            <result name="success">/view/photos.jsp</result>
        </action>
        <action name="ResultatsCompetition" class="action.ResultatsCompetition">
            <result name="success">/view/resultatCompetition.jsp</result>
        </action>
        <action name="RechercheResultatsCompetition" class="action.ResultatsCompetition" method = "executeSearch">
            <result name="success">/view/resultatCompetition.jsp</result>
            <result name="error">/view/choixCompetitions.jsp</result>
            <result name="noresult" type="redirectAction">
                <param name="actionName">Resultat</param>
                <param name="problem">noCompetition</param>
                <param name="date">${dateString}</param>
                <param name="lieu">${lieu}</param>
                <param name="resultat">${resultatString}</param>
                <param name="niveau">${niveau}</param>
            </result>
        </action>
        <action name="ResultatsCompetiteur" class="action.ResultatsCompetiteur">
            <result name="success">/view/resultatCompetiteur.jsp</result>
            <result name="error">/view/choixCompetiteurs.jsp</result>
            <result name="noresult" type="redirectAction">
                <param name="actionName">Resultat</param>
                <param name="problem">noCompetiteur</param>
                <param name="nom">${nomLicencie}</param>
                <param name="prenom">${prenomLicencie}</param>
                <param name="resultat">${resultatString}</param>
            </result>
        </action>
        <action name="Resultat" class="action.Resultat">
            <result name="success">/view/resultat.jsp</result>
        </action>
        <action name="Noms" class="action.Noms">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="NewResultat" class="action.NewResultat">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="DeleteResultat" class="action.DeleteResultat">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="ModifResultat" class="action.ModifResultat">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="Prenoms" class="action.Prenoms">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="NomsPrenoms" class="action.NomsPrenoms">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="FindCompetition" class="action.FindCompetition">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">stream</param>
            </result>
        </action>
        <action name="ResultatsAnnee" class="action.ResultatsAnnee">
            <result name="success">/view/resultatAnnee.jsp</result>
        </action>
        <action name="Contacts" class="action.Contacts">
            <result name="success">/view/contact.jsp</result>
        </action>
        <action name="References" class="action.References">
            <result name="success">/view/liens.jsp</result>
        </action>
        <action name="ResultatsGrade" class="action.ResultatsGrade">
            <result name="success">/view/resultatGrade.jsp</result>
        </action>
        <action name="AlbumPhoto" class="action.AlbumPhoto">
            <result name="success">/view/albumPhoto.jsp</result>
        </action>
        <action name="NewInfo" class="action.NewInfo">
            <result name="success" type="redirectAction">
                <param name="actionName">Index</param>
            </result>
        </action>
        <action name="NewAlbum" class="action.NewAlbum">
            <result name="success" type="redirectAction">
                <param name="actionName">AlbumPhoto</param>
                <param name="idAlbum">${idAlbum}</param>
                <param name="nomAlbum">${nomAlbum}</param>
            </result>
        </action>
        <action name="NewEntraineur" class="action.NewEntraineur">
            <result name="success" type="redirectAction">
                <param name="actionName">Entraineurs</param>
            </result>
        </action>
        <action name="NewEvenement" class="action.NewEvenement">
            <result name="success" type="redirectAction">
                <param name="actionName">VoirCalendrier</param>
            </result>
        </action>
        <action name="PhotosServeur" class="action.PhotosServeur">
            <result name="success">/view/photosServeur.jsp</result>
        </action>
        <action name="NewHoraire" class="action.NewHoraire">
            <result name="success" type="redirectAction">
                <param name="actionName">Horaires</param>
            </result>
        </action>
        <action name="DeleteInfo" class="action.DeleteInfo">
            <result name="success" type="redirectAction">
                <param name="actionName">Index</param>
            </result>
        </action>
        <action name="DeleteAlbum" class="action.DeleteAlbum">
            <result name="success" type="redirectAction">
                <param name="actionName">Photos</param>
            </result>
        </action>
        <action name="DeleteHoraire" class="action.DeleteHoraire">
            <result name="success" type="redirectAction">
                <param name="actionName">Horaires</param>
            </result>
        </action>
        <action name="DeleteEvenement" class="action.DeleteEvenement">
            <result name="success" type="redirectAction">
                <param name="actionName">VoirCalendrier</param>
            </result>
        </action>
        <action name="ModifInfo" class="action.ModifInfo">
            <result name="success" type="redirectAction">
                <param name="actionName">Index</param>
            </result>
        </action>
        <action name="ModifEntraineur" class="action.ModifEntraineur">
            <result name="success" type="redirectAction">
                <param name="actionName">Entraineurs</param>
            </result>
        </action>
        <action name="ModifEvenement" class="action.ModifEvenement">
            <result name="success" type="redirectAction">
                <param name="actionName">VoirCalendrier</param>
            </result>
        </action>
        <action name="ModifHistoire" class="action.ModifHistoire">
            <result name="success" type="redirectAction">
                <param name="actionName">HistoireClub</param>
            </result>
        </action>
        <action name="ModifMembre" class="action.ModifMembre">
            <result name="success" type="redirectAction">
                <param name="actionName">Comite</param>
            </result>
        </action>
        <action name="Connexion" class="action.Connexion">
            <result name="success" type="redirectAction">
                <param name="actionName">Index</param>
            </result>
        </action>
        <action name="Deconnexion" class="action.Deconnexion">
            <result name="success" type="redirectAction">
                <param name="actionName">Index</param>
            </result>
        </action>
        <action name="Albums" class="action.Albums">
            <result type="json"/>
        </action>
        <action name="uploadFile" class="action.FileUploadAction">
            <interceptor-ref name="exception"/>
            <interceptor-ref name="i18n"/>
            <interceptor-ref name="fileUpload">
                <param name="allowedTypes">image/jpeg,image/png</param>
                <param name="maximumSize">102400</param>
            </interceptor-ref>
            <interceptor-ref name="params">
                <param name="excludeParams">dojo\..*,^struts\..*</param>
            </interceptor-ref>
            <interceptor-ref name="validation">
                <param name="excludeMethods">input,back,cancel,browse</param>
            </interceptor-ref>
            <interceptor-ref name="workflow">
                <param name="excludeMethods">input,back,cancel,browse</param>
            </interceptor-ref>

            <result name="success" type="redirectAction">
                <param name="actionName">PhotosServeur</param>
            </result>

            <!--<result name="input">pages/fileupload.jsp</result>-->

        </action>
        <action name="UploadPhotoAlbum" class="action.UploadPhotoAlbum">
            <interceptor-ref name="exception"/>
            <interceptor-ref name="i18n"/>
            <interceptor-ref name="fileUpload">
                <param name="allowedTypes">image/jpeg,image/png</param>
                <param name="maximumSize">10485760</param>
            </interceptor-ref>
            <interceptor-ref name="params">
                <param name="excludeParams">dojo\..*,^struts\..*</param>
            </interceptor-ref>
            <interceptor-ref name="validation">
                <param name="excludeMethods">input,back,cancel,browse</param>
            </interceptor-ref>
            <interceptor-ref name="workflow">
                <param name="excludeMethods">input,back,cancel,browse</param>
            </interceptor-ref>

            <result name="success" type="redirectAction">
                <param name="actionName">AlbumPhoto</param>
                <param name="idAlbum">${idAlbum}</param>
                <param name="nomAlbum">${nomAlbum}</param>
            </result>

            <!--            <result name="success">result.jsp</result>-->

        </action>
    </package>
</struts>
